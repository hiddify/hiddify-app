# Custom Routing Rules Feature

این فیچر امکان تعریف قوانین مسیریابی سفارشی را فراهم می‌کند که دقیقاً مثل v2rayN عمل می‌کند.

## ویژگی‌ها

- **تعریف قوانین بر اساس دامنه**: می‌توانید دامنه‌های خاصی را برای اتصال مستقیم یا مسدود کردن تعریف کنید
- **تعریف قوانین بر اساس IP**: می‌توانید IP های خاصی را برای اتصال مستقیم یا مسدود کردن تعریف کنید  
- **تعریف قوانین بر اساس پورت**: می‌توانید پورت‌های خاصی را برای اتصال مستقیم یا مسدود کردن تعریف کنید
- **تعریف قوانین بر اساس پروتکل**: می‌توانید پروتکل‌های خاصی را برای اتصال مستقیم یا مسدود کردن تعریف کنید
- **انتخاب نوع شبکه**: TCP، UDP یا هر دو
- **انتخاب نوع خروجی**: Proxy، Direct یا Block

## نحوه استفاده

1. به بخش **Config Options** بروید
2. روی **Custom Routing Rules** کلیک کنید
3. روی دکمه **+** کلیک کنید تا قانون جدید اضافه کنید
4. نوع قانون را انتخاب کنید (دامنه، IP، پورت یا پروتکل)
5. مقدار را وارد کنید
6. نوع خروجی را انتخاب کنید (Proxy، Direct یا Block)
7. نوع شبکه را انتخاب کنید (TCP، UDP یا هر دو)
8. روی **Save** کلیک کنید

## نمونه‌های کاربردی

### اتصال مستقیم به سایت‌های ایرانی
```
Domains: *.ir, geosite:ir
Outbound: Direct
Network: TCP/UDP
```

### مسدود کردن تبلیغات
```
Domains: *.doubleclick.net, *.googleadservices.com
Outbound: Block
Network: TCP/UDP
```

### اتصال مستقیم به پورت‌های خاص
```
Port: 80, 443
Outbound: Direct
Network: TCP
```

### استفاده از پروکسی برای پروتکل خاص
```
Protocol: http
Outbound: Proxy
Network: TCP
```

## نکات مهم

- قوانین به ترتیب اولویت اعمال می‌شوند
- قانون اول که با درخواست مطابقت داشته باشد اعمال می‌شود
- می‌توانید از wildcard (*) برای دامنه‌ها استفاده کنید
- می‌توانید از geoip و geosite استفاده کنید
- قوانین به صورت خودکار در SingBox config اعمال می‌شوند

